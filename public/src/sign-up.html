<!DOCTYPE html>
<html lang="en">

<head>

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Document</title>
        <link href="./css/sign-up.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <link rel="shortcut icon" type="image/png" href="./assets/fooding_icon.png" />
        <link rel="stylesheet" type="text/css" href="./css/setting.css" />
        <link rel="stylesheet" type="text/css" href="./css/styleguide.css" />


    </head>
</head>

<body>
    <div class="sign-up">

        <div class="sign-up-header">
            <img class="fooding-icon" src="./assets/fooding_icon@3x.png">
            <h1 class="title">Fooding!</h1>
        </div>

        <form class="sign-up-form">
            <div class="email">
                <div class="signUptext">Email</div>
                <div><input type="email" id="signUpEmail" placeholder="Email" /></div>
            </div>

            <div class="password">
                <div class="signUptext">Password</div>
                <div><input type="password" id="signUpPassword" placeholder="Password" /></div>
            </div>

            <div class="comfirm-password">
                <div class="signUptext">Confirm Password</div>
                <div><input type="password" id="confirmPassword" placeholder="Password" /></div>
            </div>

            <div class="Name">
                <div class="signUptext">Name</div>
                <div><input type="text" id="signUpName" placeholder="Ex) John Fitzberg" /></div>
            </div>

            <div class="row">
                <div class="signUptext">Birth Date</div>
                <div id="birth">
                    <div class="col">
                        <input type="text" class="form-control" id="birth-year" placeholder="yyyy">
                    </div>
                    <div class="col">
                        <input type="text" class="form-control" id="birth-month" placeholder="mm">
                    </div>
                    <div class="col">
                        <input type="text" class="form-control" id="birth-date" placeholder="dd">
                    </div>
                </div>
            </div>

            <div class="Phone-number">
                <div class="signUptext">Phone Number</div>
                <div class="state">
                    <select id="inputState" class="form-select">
                        <option selected id="select-box">Country</option>
                        <option>South Korea +82</option>
                    </select>
                </div>
                <div><input type="text" id="phone-number" placeholder="Ex) 010 - 6640 - 4235" /></div>
            </div>


            <!-- form 태그 안에서 버튼은 default 인 submit 으로 하면, form 안에 있는 것들 제출하는 형식 / button 타입은 그냥 일반적인 버튼 -->
            <button type="submit" id="signUpButton">Sign Up</button>
        </form>






    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyCdV50i-6XvxKs1JMHfERT41p9pGKxMrhY",
            authDomain: "fooding-da573.firebaseapp.com",
            databaseURL: "https://fooding-da573-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "fooding-da573",
            storageBucket: "fooding-da573.appspot.com",
            messagingSenderId: "769819851691",
            appId: "1:769819851691:web:2946f45a9b2d3ef3a9b0ee",
            measurementId: "G-B5V8GXNBV2"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-auth.js";

        const auth = getAuth();

        document.getElementById("signUpButton").addEventListener('click', (event) => {
            event.preventDefault()
            const signUpEmail = document.getElementById("signUpEmail").value
            const signUpPassword = document.getElementById("signUpPassword").value

            createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword)
                .then((userCredential) => {
                    console.log(userCredential)
                    // Signed in 
                    const user = userCredential.user;
                    // ...
                    if(!alert("가입이 완료 되었습니다.")) document.location = './sign-up-completed.html';
                })
                .catch((error) => {
                    console.log('error')
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // ..
                });
        })


    </script>
</body>

</html>